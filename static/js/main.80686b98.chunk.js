(this["webpackJsonpbank-search-app"]=this["webpackJsonpbank-search-app"]||[]).push([[0],{119:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(24),r=c.n(s),i=(c(92),c(58)),l=c.n(i),o=c(73),j=c(22),b=c(14),O=c(126),u=(c(93),c(124)),d=c(44),h=c(127),f=c(123),x=(c(94),c(95),c(74)),m=c.n(x),A=c(6);var g=function(){Object(b.d)();for(var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],x=r[1],g=Object(n.useState)(1),N=Object(j.a)(g,2),S=N[0],v=N[1],p=Object(n.useState)(5),I=Object(j.a)(p,2),k=I[0],D=I[1],H=Object(n.useState)(!1),C=Object(j.a)(H,2),T=C[0],y=C[1],M=Object(n.useState)(""),W=Object(j.a)(M,2),U=W[0],E=W[1],w=Object(n.useState)(5),B=Object(j.a)(w,1)[0],L=Object(n.useState)(5),P=Object(j.a)(L,2),R=P[0],K=P[1],J=Object(n.useState)(0),_=Object(j.a)(J,2),q=_[0],z=_[1],F=function(e){v(Number(e.target.id))},G=[],Q=1;Q<=Math.ceil(i.length/k);Q++)G.push(Q);var V=S*k,X=V-k,Y=i.slice(X,V);console.log(typeof Y);var Z=G.map((function(e){return e<R+1&&e>q?Object(A.jsx)("li",{id:e,onClick:F,className:S===e?"active":null,children:e},e):null})),$=function(){v(S+1),S+1>R&&(K(R+B),z(q+B))},ee=function(){v(S-1),(S-1)%B===0&&(K(R-B),z(q-B))},te=null;G.length>R&&(te=Object(A.jsx)("li",{onClick:$,children:" \u2026 "}));var ce=null;q>=1&&(ce=Object(A.jsx)("li",{onClick:ee,children:" \u2026 "}));var ne=Object(n.useState)("MUMBAIROWDATA"),ae=Object(j.a)(ne,2),se=ae[0],re=ae[1],ie=Object(n.useState)("MUMBAI"),le=Object(j.a)(ie,2),oe=le[0],je=le[1],be=Object(n.useState)("MUMBAISHOWDATA"),Oe=Object(j.a)(be,2),ue=Oe[0],de=Oe[1];Object(n.useEffect)((function(){he(oe,se,ue)}),[]);var he=function(){var e=Object(o.a)(l.a.mark((function e(t,c,n){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==localStorage.getItem(c)){e.next=12;break}return y(!0),e.next=4,m.a.get("https://vast-shore-74260.herokuapp.com/banks?city="+t);case 4:s=e.sent,console.log(typeof s),a(s.data),x(s.data),y(!1),console.log("fetch end"),e.next=15;break;case 12:x(JSON.parse(localStorage.getItem(c))),a(JSON.parse(localStorage.getItem(c))),console.log("localstorage fetched");case 15:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),fe=Object(A.jsxs)(u.a,{children:[Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){je("MUMBAI"),re("MUMBAIROWDATA"),de("MUMBAISHOWDATA"),E(""),he("MUMBAI","MUMBAIROWDATA","MUMBAISHOWDATA")},danger:!0,children:"Mumbai"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){je("PUNE"),re("PUNEROWDATA"),de("PUNESHOWDATA"),E(""),he("PUNE","PUNEROWDATA","PUNESHOWDATA")},danger:!0,children:"PUNE"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){je("NASHIK"),re("NASHIKROWDATA"),de("NASHIKSHOWDATA"),E(""),he("NASHIK","NASHIKROWDATA","NASHIKSHOWDATA")},danger:!0,children:"NASHIK"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){je("DELHI"),re("DELHIROWDATA"),de("DELHISHOWDATA"),E(""),he("DELHI","DELHIROWDATA","DELHISHOWDATA")},danger:!0,children:"DELHI"})})]}),xe=Object(A.jsxs)(u.a,{children:[Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){D(5),console.log(k)},danger:!0,children:"5 / page"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){D(10),console.log(k)},danger:!0,children:"10 / page"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){D(15),console.log(k)},danger:!0,children:"15 / page"})}),Object(A.jsx)(u.a.Item,{children:Object(A.jsx)(d.a,{className:"btn-city",onClick:function(){D(20),console.log(k)},danger:!0,children:"20 / page"})})]}),me=Object(n.useState)(!0),Ae=Object(j.a)(me,2),ge=Ae[0],Ne=Ae[1];function Se(e){c.map((function(t){return t.ifsc===e&&(!0===t.favorite?(t.favorite=!1,Ne(!ge)):!1===t.favorite&&(t.favorite=!0,Ne(!ge))),ge})),localStorage.setItem(se,JSON.stringify(c)),a(c);var t=pe(U);localStorage.setItem(ue,JSON.stringify(t)),console.log("showData :",i)}var ve=0;function pe(e){var t=c.filter((function(t){return t.bank_name.toLowerCase().includes(e.toLowerCase())||t.ifsc.toLowerCase().includes(e.toLowerCase())?t:null}));return x(t),i}return Object(A.jsxs)("div",{className:"container",children:[Object(A.jsxs)("section",{className:"filters",children:[Object(A.jsx)(h.a,{overlay:fe,placement:"bottomCenter",arrow:!0,children:Object(A.jsx)(d.a,{children:"Search By City"})}),Object(A.jsx)("div",{className:"search-input",children:Object(A.jsx)(f.a.Search,{className:"ant-input-search",id:"search-bar",value:U,placeholder:"Search",onChange:function(e){return function(e){E(e.target.value);var t=e.target.value;""===t?x(c):(clearTimeout(ve),ve=setTimeout((function(){clearTimeout(ve),pe(t)}),300))}(e)},onSearch:pe,enterButton:!0})})]}),T?Object(A.jsx)("div",{className:"spin-container",children:Object(A.jsx)("div",{className:"loading"})}):Object(A.jsx)("section",{children:Y.map((function(e,t){return Object(A.jsx)("div",{className:"card-container",children:Object(A.jsxs)(O.a,{children:[void 0===e.favorite?Object.assign(e,{favorite:!1}):console.log(e.favorite),Object(A.jsx)(O.a.Header,{children:Object(A.jsxs)("div",{className:"d-flex justify-content-between",children:[e.bank_name,e.favorite?Object(A.jsx)("button",{onClick:function(){return Se(e.ifsc)},className:"btn btn-danger",children:"Unlike"}):Object(A.jsx)("button",{onClick:function(){return Se(e.ifsc)},className:"btn btn-success",children:"Like"})]})}),Object(A.jsxs)(O.a.Body,{children:[Object(A.jsx)(O.a.Title,{children:e.ifsc}),Object(A.jsx)(O.a.Text,{children:e.address})]})]})},t)}))}),T?null:Object(A.jsxs)("section",{className:"d-flex justify-content-center flex-wrap align-items-baseline",children:[Object(A.jsxs)("ul",{className:"pageNumbers",children:[Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:ee,disabled:S===G[0],children:"Prev"})}),ce,Z,te,Object(A.jsx)("li",{children:Object(A.jsx)("button",{onClick:$,disabled:S===G[G.length-1],children:"Next"})})]}),Object(A.jsx)(h.a,{overlay:xe,placement:"bottomCenter",arrow:!0,children:Object(A.jsx)(d.a,{children:"Items Per Page"})})]})]})};var N=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(g,{})})},S=c(57);r.a.render(Object(A.jsx)(S.a,{children:Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(N,{})})}),document.getElementById("root"))},92:function(e,t,c){},95:function(e,t,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.80686b98.chunk.js.map